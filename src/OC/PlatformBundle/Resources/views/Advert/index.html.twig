{# src/OC/PlatformBundle/Resources/views/Advert/index.html.twig #}

{% extends "OCPlatformBundle::layout.html.twig" %}

{% block title %}
    Accueil - {{ parent() }}
{% endblock %}

{% block body %}

    <h2>Liste des annonces</h2>

<div class="row">
        {% for advert in listAdverts %}
    <div class="col-lg-6">
        <h3><a href="{{ path('oc_platform_view', {'id': advert.id}) }}">{{ advert.title }}</a></h3>
            <p>Publié par : {{ advert.author }} le {{ advert.date|date('d/m/Y') }}</p>
            <p>{{ advert.content }}</p>
            <p><a class="btn btn-primary"  href="{{ path('oc_platform_view', {'id': advert.id}) }}" role="button">Détails &raquo;</a></p>
        </div>
        {% else %}
            <li>Pas (encore !) d'annonces</li>
        {% endfor %}
    </div>

    <ul class="pagination">
        {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
        {% if nbPages != 0 %}
            {% for p in range(1, nbPages) %}
                <li{% if p == page %} class="active"{% endif %}>
                    <a href="{{ path('oc_platform_home', {'page': p}) }}">{{ p }}</a>
                </li>
            {% endfor %}
        {% endif %}
    </ul>

{% endblock %}
